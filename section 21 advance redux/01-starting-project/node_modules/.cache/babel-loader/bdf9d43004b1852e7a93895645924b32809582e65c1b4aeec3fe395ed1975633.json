{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = [];\nexport const shoppingCartSlice = createSlice({\n  name: 'shoppingCart',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const product = state.find(item => item.name === action.payload.name);\n      if (product) {\n        product.quantity++;\n      } else {\n        state.push(action.payload);\n      }\n    },\n    updateItem: (state, action) => {\n      const product = state.find(item => item.name === action.payload.name);\n      if (product) {\n        product.quantity += action.payload.quantity;\n      }\n      if (product && product.quantity <= 0) {\n        return state.filter(item => item.name !== action.payload.name);\n      }\n    }\n  }\n});\nexport const shoppingCartActions = shoppingCartSlice.actions;\nexport default shoppingCartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","shoppingCartSlice","name","reducers","addItem","state","action","product","find","item","payload","quantity","push","updateItem","filter","shoppingCartActions","actions","reducer"],"sources":["/Users/chenghaochen/Tutorials/React Tutorial/udemy/section 21 advance redux/01-starting-project/src/store/ShoppingCart.js"],"sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\n\nconst initialState = [];\n\nexport const shoppingCartSlice = createSlice({\n    name: 'shoppingCart',\n    initialState,\n    reducers: {\n        addItem: (state, action) => {\n            const product = state.find(item => item.name === action.payload.name);\n            if (product) {\n                product.quantity++;\n            }\n            else {\n                state.push(action.payload);\n            }\n        },\n        updateItem: (state, action) => {\n            const product = state.find(item => item.name === action.payload.name);\n            if (product) {\n                product.quantity += action.payload.quantity;\n            }\n            if (product && product.quantity <= 0) {\n                return state.filter(item => item.name !== action.payload.name);\n            }\n        },\n    }\n})\n\nexport const shoppingCartActions = shoppingCartSlice.actions;\nexport default shoppingCartSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAE5C,MAAMC,YAAY,GAAG,EAAE;AAEvB,OAAO,MAAMC,iBAAiB,GAAGF,WAAW,CAAC;EACzCG,IAAI,EAAE,cAAc;EACpBF,YAAY;EACZG,QAAQ,EAAE;IACNC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACxB,MAAMC,OAAO,GAAGF,KAAK,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACP,IAAI,KAAKI,MAAM,CAACI,OAAO,CAACR,IAAI,CAAC;MACrE,IAAIK,OAAO,EAAE;QACTA,OAAO,CAACI,QAAQ,EAAE;MACtB,CAAC,MACI;QACDN,KAAK,CAACO,IAAI,CAACN,MAAM,CAACI,OAAO,CAAC;MAC9B;IACJ,CAAC;IACDG,UAAU,EAAEA,CAACR,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMC,OAAO,GAAGF,KAAK,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACP,IAAI,KAAKI,MAAM,CAACI,OAAO,CAACR,IAAI,CAAC;MACrE,IAAIK,OAAO,EAAE;QACTA,OAAO,CAACI,QAAQ,IAAIL,MAAM,CAACI,OAAO,CAACC,QAAQ;MAC/C;MACA,IAAIJ,OAAO,IAAIA,OAAO,CAACI,QAAQ,IAAI,CAAC,EAAE;QAClC,OAAON,KAAK,CAACS,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACP,IAAI,KAAKI,MAAM,CAACI,OAAO,CAACR,IAAI,CAAC;MAClE;IACJ;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMa,mBAAmB,GAAGd,iBAAiB,CAACe,OAAO;AAC5D,eAAef,iBAAiB,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}