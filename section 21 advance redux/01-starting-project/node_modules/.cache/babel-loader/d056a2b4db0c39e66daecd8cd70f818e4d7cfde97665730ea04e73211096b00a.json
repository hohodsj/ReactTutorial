{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = [];\nexport const shoppingCartSlice = createSlice({\n  name: 'shoppingCart',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const product = state.find(item => item.title === action.payload.title);\n      if (product) {\n        product.quantity++;\n      } else {\n        state.push(action.payload);\n      }\n      console.log('State after adding item:', JSON.stringify(state));\n    },\n    updateItem: (state, action) => {\n      console.log('state before update:', JSON.stringify(state));\n      const product = state.find(item => item.title === action.payload.title);\n      if (product) {\n        product.quantity += action.payload.quantity;\n      }\n      console.log('State after update1 item:', JSON.stringify(state));\n      if (product && product.quantity <= 0) {\n        const index = state.findIndex(item => item.title === product.title);\n        if (index !== -1) {\n          state.splice(index, 1);\n        }\n      }\n      console.log('State after update2 item:', JSON.stringify(state));\n    }\n  }\n});\nexport const shoppingCartActions = shoppingCartSlice.actions;\nexport default shoppingCartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","shoppingCartSlice","name","reducers","addItem","state","action","product","find","item","title","payload","quantity","push","console","log","JSON","stringify","updateItem","index","findIndex","splice","shoppingCartActions","actions","reducer"],"sources":["/Users/chenghaochen/Tutorials/React Tutorial/udemy/section 21 advance redux/01-starting-project/src/store/ShoppingCart.js"],"sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\n\nconst initialState = [];\n\nexport const shoppingCartSlice = createSlice({\n    name: 'shoppingCart',\n    initialState,\n    reducers: {\n        addItem: (state, action) => {\n            const product = state.find(item => item.title === action.payload.title);\n            if (product) {\n                product.quantity++;\n            }\n            else {\n                state.push(action.payload);\n            }\n            console.log('State after adding item:', JSON.stringify(state));\n        },\n        updateItem: (state, action) => {\n            console.log('state before update:', JSON.stringify(state));\n            const product = state.find(item => item.title === action.payload.title);\n            if (product) {\n                product.quantity += action.payload.quantity;\n            }\n            console.log('State after update1 item:', JSON.stringify(state));\n            if (product && product.quantity <= 0) {\n                const index = state.findIndex(item => item.title === product.title);\n                if (index !== -1) {\n                    state.splice(index, 1);\n                }\n            }\n            console.log('State after update2 item:', JSON.stringify(state));\n        },\n    }\n})\n\nexport const shoppingCartActions = shoppingCartSlice.actions;\nexport default shoppingCartSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAE5C,MAAMC,YAAY,GAAG,EAAE;AAEvB,OAAO,MAAMC,iBAAiB,GAAGF,WAAW,CAAC;EACzCG,IAAI,EAAE,cAAc;EACpBF,YAAY;EACZG,QAAQ,EAAE;IACNC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACxB,MAAMC,OAAO,GAAGF,KAAK,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKJ,MAAM,CAACK,OAAO,CAACD,KAAK,CAAC;MACvE,IAAIH,OAAO,EAAE;QACTA,OAAO,CAACK,QAAQ,EAAE;MACtB,CAAC,MACI;QACDP,KAAK,CAACQ,IAAI,CAACP,MAAM,CAACK,OAAO,CAAC;MAC9B;MACAG,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;IAClE,CAAC;IACDa,UAAU,EAAEA,CAACb,KAAK,EAAEC,MAAM,KAAK;MAC3BQ,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;MAC1D,MAAME,OAAO,GAAGF,KAAK,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKJ,MAAM,CAACK,OAAO,CAACD,KAAK,CAAC;MACvE,IAAIH,OAAO,EAAE;QACTA,OAAO,CAACK,QAAQ,IAAIN,MAAM,CAACK,OAAO,CAACC,QAAQ;MAC/C;MACAE,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;MAC/D,IAAIE,OAAO,IAAIA,OAAO,CAACK,QAAQ,IAAI,CAAC,EAAE;QAClC,MAAMO,KAAK,GAAGd,KAAK,CAACe,SAAS,CAACX,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKH,OAAO,CAACG,KAAK,CAAC;QACnE,IAAIS,KAAK,KAAK,CAAC,CAAC,EAAE;UACdd,KAAK,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QAC1B;MACJ;MACAL,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;IACnE;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMiB,mBAAmB,GAAGrB,iBAAiB,CAACsB,OAAO;AAC5D,eAAetB,iBAAiB,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}